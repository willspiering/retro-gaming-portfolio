---
interface Props {
  experience: {
    job_title: string;
    company: string;
    location: string;
    start_date: string;
    end_date: string;
    description: {
      paragraph: string;
      bulleted: string[];
    };
    skills: string[];
  }[];
}

const { experience } = Astro.props;
---

<section id="experience" class="section pixel-border">
  <div class="section-title">
    <h2>Experience</h2>
  </div>
  {experience.map((job) => (
    <div class="experience-item">
      <h3 class="job-title">{job.job_title}</h3>
      <div class="experience-item-header">
        <span class="company-name">{job.company}</span>
        <div class="job-details">{`${job.location} | ${job.start_date} - ${job.end_date}`}</div>
      </div>
      <ul>
        {job.description.bulleted.map((responsibility) => (
          <li>{responsibility}</li>
        ))}
      </ul>
      <div class="role-skills">
        <h4>Technologies Used:</h4>
        <div class="skills-list">
          {job.skills.map((skill) => (
            <span class="skill-tag">{skill}</span>
          ))}
        </div>
      </div>
    </div>
  ))}
</section>

<style>
  .experience-item {
    margin-bottom: 30px;
    padding-bottom: 30px;
    border-bottom: 2px dashed var(--border-color);
  }

  .experience-item:last-child {
    border-bottom: none;
  }

  .job-title {
    font-family: 'Press Start 2P', cursive;
    color: var(--highlight-color);
    font-size: 1.2em;
    margin-bottom: 10px;
  }

  .company-name {
    font-family: 'Press Start 2P', cursive;
    font-size: 1em;
    color: var(--secondary-color);
  }

  .job-details {
    font-size: 0.9em;
    color: var(--muted-color);
    margin-top: 5px;
  }

  .experience-item ul {
    list-style-type: none;
    padding-left: 0;
    margin-top: 15px;
  }

  .experience-item li {
    position: relative;
    padding-left: 20px;
    margin-bottom: 10px;
    font-size: 0.9em;
  }

  .experience-item li::before {
    content: '>';
    color: var(--highlight-color);
    position: absolute;
    left: 0;
    top: 0;
  }

  .role-skills {
    margin-top: 15px;
  }

  .role-skills h4 {
    font-family: 'Press Start 2P', cursive;
    color: var(--secondary-color);
    margin-bottom: 10px;
    font-size: 0.8em;
  }

  .skills-list {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
  }

  .skill-tag {
    font-family: 'Press Start 2P', cursive;
    background-color: var(--secondary-color);
    color: var(--card-bg);
    padding: 4px 8px;
    font-size: 0.7em;
    border-radius: 4px;
  }
</style>